
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bmtk.builder package &#8212; Brain Modeling Toolkit 1.0.7 documentation</title>
    <link rel="stylesheet" href="../_static/aibs_sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="bmtk.builder.auxi package" href="bmtk.builder.auxi.html" />
    <link rel="prev" title="bmtk.analyzer package" href="bmtk.analyzer.html" /> 
  </head><body>
<script type="text/javascript" src="_static/external_assets/javascript/portal.js"></script>
<style>

	/* the icon font-family definition and helper classes */
	@font-face {
	  font-family: 'portal_icon_font';
	  src: url('_static/external_assets/stylesheets/portal_icon_font.eot?39505677');
	  src: url('_static/external_assets/stylesheets/portal_icon_font.eot?39505677#iefix') format('embedded-opentype'),
	       url('_static/external_assets/stylesheets/portal_icon_font.woff?39505677') format('woff'),
	       url('_static/external_assets/stylesheets/portal_icon_font.ttf?39505677') format('truetype'),
	       url('_static/external_assets/stylesheets/portal_icon_font.svg?39505677#portal_icon_font') format('svg');
	  font-weight: normal;
	  font-style: normal;
	}
	 
	 [class^="icon-"]:before, [class*=" icon-"]:before {
	  font-family: "portal_icon_font";
	  font-style: normal;
	  font-weight: normal;
	  speak: none;
	 
	  display: inline-block;
	  text-decoration: inherit;
	  width: 1em;
	  margin-right: .2em;
	  text-align: center;
	  /* opacity: .8; */
	 
	  /* For safety - reset parent styles, that can break glyph codes*/
	  font-variant: normal;
	  text-transform: none;
	     
	  /* fix buttons height, for twitter bootstrap */
	  line-height: 1em;
	 
	  /* Animation center compensation - margins should be symmetric */
	  /* remove if not needed */
	  margin-left: .2em;
	
	}
	 
	.icon-spin5:before { content: '\e806'; } /* '' */
	.icon-left-open-1:before { content: '\e81e'; } /* '' */
	.icon-plus-1:before { content: '\e801'; } /* '' */
	.icon-facebook:before { content: '\e816'; } /* '' */
	.icon-gplus:before { content: '\e818'; } /* '' */
	.icon-linkedin-3:before { content: '\e815'; } /* '' */
	.icon-twitter:before { content: '\e817'; } /* '' */
	.icon-youtube-play:before { content: '\e805'; } /* '' */
	.icon-plus-2:before { content: '\e809'; } /* '' */
	.icon-record-1:before { content: '\e81c'; } /* '' */
	.icon-cancel:before { content: '\e80b'; } /* '' */
	.icon-search:before { content: '\e804'; } /* '' */
	.icon-cancel-2:before { content: '\e80c'; } /* '' */
	.icon-plus-4:before { content: '\e80d'; } /* '' */
	.icon-cancel-3:before { content: '\e80e'; } /* '' */
	.icon-plus:before { content: '\e808'; } /* '' */
	.icon-down-open:before { content: '\e800'; } /* '' */
	.icon-right-open:before { content: '\e802'; } /* '' */
	.icon-up-open:before { content: '\e803'; } /* '' */
	.icon-stop:before { content: '\e813'; } /* '' */
	.icon-cancel-1:before { content: '\e820'; } /* '' */
	.icon-plus-3:before { content: '\e80a'; } /* '' */
	/* end icon font helpers */

	/* icon font spin animation */
	.animate-spin {
	  -moz-animation: spin 2s infinite linear;
	  -o-animation: spin 2s infinite linear;
	  -webkit-animation: spin 2s infinite linear;
	  animation: spin 2s infinite linear;
	  display: inline-block;
	}
	@-moz-keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	@-webkit-keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	@-o-keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	@-ms-keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	@keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	/*  end spin animation */	

	@font-face {
	    font-family: 'bebas_neueregular';
	    src: url('_static/external_assets/stylesheets/bebasneue-webfont.eot');
	    src: url('_static/external_assets/stylesheets/bebasneue-webfont.eot?#iefix') format('embedded-opentype'),
	         url('_static/external_assets/stylesheets/bebasneue-webfont.woff') format('woff'),
	         url('_static/external_assets/stylesheets/bebasneue-webfont.ttf') format('truetype'),
	         url('_static/external_assets/stylesheets/bebasneue-webfont.svg#bebas_neueregular') format('svg');
	    font-weight: normal;
	    font-style: normal;
	}

	/* top chrome styles */
	#top_chrome {

		width:100%;
		height:28px;
		background-color:#163E65;
	}

	.chrome_link_block {

		color:#fff !important;	
		display:inline-block;
		height:100%;
		max-height:28px;
	}

	.chrome_link_block:hover {

		background-color:#eee;
		color:#0779BE !important;	
		cursor:pointer;
	}

	#top_chrome a {

		color:inherit !important;	
		text-decoration:none;
	}

	#top_chrome a:hover {

		color:inherit !important;	
	}

	#top_chrome_buttons {

		float:right;
		margin-right:50px;
	}

	.chrome_button {

		font-family:arial,sans-serif;
		font-weight:bold;
		display:inline-block;
		font-size:9px;
		text-align:left;
		text-decoration:none;
		margin:9px 20px 10px 20px;
	}

	.chrome_active {

		background-color:#1b7abd;
		color:#fff;
	}


	/* header element styles*/
	#header_content {

		font-family: bebas_neueregular, arial, sans-serif;
		font-size:22px;
		color:#0779be;		
		letter-spacing:0.03em;

		position:relative;
		width:calc(100% - 112px);
		min-width:800px;
		height:76px;
		border-bottom:2px solid #A5A8AB;
		margin-left:50px;
		margin-right:50px;
        z-index:9999; /* IT-9508 */
	}

	#portal_logo {

		position:absolute;
		top:20px;
		left:0px;
		width:236px;
	}

	#portal_tabs {

		position: absolute;
		bottom: 12px;
		left: 0px;
		margin-bottom: -12px;
		display: block;
	}

	.horizontal_list
	{
		margin: 0;
		padding: 0;
		list-style-type: none;
		display: inline; 		
	}

	.horizontal_list li { 

		display: inline; 	
	}	

	#portal_tab_menu_container {

		display:none;
	}

	#portal_search_input_group {

		position:absolute;
		margin: 0;
		padding: 0;
		bottom:12px;
		right:0px;
		border:1px solid #DAD9D3;
		color:#DAD9D3;
	}

	#portal_search_input_group input {

		margin: 0;
		padding: 0;
		border:none;
		width:110px;
		color:#DAD9D3;
		font-family:Helvetica,sans-serif;
		font-size:12px;
		height:28px;
		margin-left:10px;

		outline:none;
	}

	input::-ms-clear {
		display: none;
	}

	#portal_search_input_group i {

		font-size:0.8em;
		cursor:pointer;
	}

	#pSiteSearchTextInput:focus {

		color:#000;
	}

	.icon_menu_down {

		font-size: 12px;
		margin-left: 4px;
		vertical-align: text-top;
		padding-top: 4px;
		display: inline-block;
	}

	.portal_tab_item {

		background-color: #fff;
		padding: 12px;
		padding-left:20px;
		padding-right:20px;
		display: inline-block !important;		
	}

	.portal_tab_item a:hover {

		color:#fbe300;	
	}

	.portal_tab_item:hover {

		background-color: #0779be;	
		color:#fbe300 !important;	
	}	


	.portal_menu_active {

		background-color: #EEEEEE;
	}	

	.portal_menu_item_active {

		color:#fbe300 !important;	
	}

	.portal_tab_active {

		color:#a5a8ab !important;
	}

	#header_content a {		

		color:inherit !important;
	}

	#header_content a:hover {

		background-color: #0779be;	
		color:#fbe300 !important;	
	}

	#header_content ul {

		list-style: none;
		position: relative;
		top: 58px;
		display: inline-table;
	}

	#header_content ul ul {
		
		display:none;
		opacity:0;
	}

	/* the fly out menus */
	#header_content ul li:hover > ul,
	#header_content ul li.hover > ul {

		position: absolute;
		top: 48px;
		z-index:999;

		display: block;
		width: 152px;
		padding:0px;
		padding-top:20px;
		padding-bottom:10px;
		font-size: 12px;
		font-family: Arial,Sans-Serif;
		font-weight: bold;
		text-transform: uppercase;

		background-color: rgba(8,122,191,0.98);
		color: #fff !important;
		opacity: 1;

		-webkit-animation: fade 0.25s;
		animation: fade 0.25s;
	}

	@-webkit-keyframes fade {
	    from {opacity: 0}
	    to {opacity: 1}
	}
	@keyframes fade {
	    from {opacity: 0}
	    to {opacity: 1}
	}	

	#header_content ul li:hover > ul li {

		padding: 10px;
		padding-top: 0px;
		padding-left: 20px;
		display: block;
		opacity:1;
	}

	#header_content ul li:hover > ul a {

		display: block;
		opacity:1;
		white-space:nowrap;
	}

	#portal_menu_start_list {

		left: 81px;

		/* IE sauce */
		left:85px\9;

		/* Safari sauce */
		(;left:79px;);
	}

	#portal_menu_atlases_list {

		left: 290px;
		width: 210px !important;
        height: 236px;

		padding-bottom:5px !important;

		/* IE sauce */
		left: 303px\9;
        height: 225px\9;

		/* Safari sauce */
		(;left:279px;);
	}

	#portal_menu_tools_list {

		left: 500px;
		width: 172px !important;
		height: 236px;

		padding-bottom:5px !important;

		/* IE sauce */
		left: 513px\9;
		height:225px\9;

		/* Safari sauce */
		(;left:489px;);
		(;height:227px;);
	}

	/* mozilla sauce */
	@-moz-document url-prefix() {

		#header_content {

			height:107px;
		}

		#portal_menu_start_list {

			left:85px;
		}

		#portal_menu_atlases_list {

			left: 302px;		
		}

		#portal_menu_tools_list {

			left: 512px;
			height:236px;
		}
	}


	/* make it look OK on iPad also */
	@media all and (device-width: 768px) and (device-height: 1024px) and (orientation:portrait) {

		#portal_menu_start_list {

			left:81px;
		}

		#portal_menu_atlases_list {

			left: 291px;		
		}

		#portal_menu_tools_list {

			left: 501px;
			height:236px;
		}  
	}
	@media all and (device-width: 768px) and (device-height: 1024px) and (orientation:landscape) {

		#portal_menu_start_list {

			left:81px;
		}

		#portal_menu_atlases_list {

			left: 291px;		
		}

		#portal_menu_tools_list {

			left: 501px;
			height:236px;
		}	  
	}

	.portal_menu_list_heading {

		color:#9ccae5;
		border-bottom:1px solid #9ccae5;
		padding-bottom:5px !important;
	}

	.portal_menu_list_heading + li {

		padding-top:10px !important;
	}

	.portal_menu_list_heading li {

		padding-bottom:0px;
	}	

	#portal_menu_atlases_list li:last-of-type {

		padding-bottom:15px !important;
	}

	.icon-spin5 {

		color:#000;
	}
</style>
<div id="pHeader">
<div id="top_chrome">
	<div id="top_chrome_buttons">
		<div class="chrome_link_block"><a href="http://www.alleninstitute.org" target="_blank" class="chrome_button">ALLEN INSTITUTE</a></div>
	</div>
</div>

<div id="header_content">

	<a href="http://AllenInstitute.github.io">
		<img id="portal_logo" style="border:0;" src="_static/external_assets/images/AIBS_Logo.png"/>
	</a>
</div>
</div>

<script>

jQuery('#portal_tab_menu').bind('touchstart', function() {

	if(window.console)
		console.log("touchstart");
});
</script>
<link rel="stylesheet" type="text/css" href="_static/external_assets/stylesheets/common_layout.css" />


  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="bmtk-builder-package">
<h1>bmtk.builder package<a class="headerlink" href="#bmtk-builder-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="bmtk.builder.auxi.html">bmtk.builder.auxi package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.auxi.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.auxi.html#module-bmtk.builder.auxi.edge_connectors">bmtk.builder.auxi.edge_connectors module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.auxi.html#bmtk-builder-auxi-node-params-module">bmtk.builder.auxi.node_params module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.auxi.html#module-bmtk.builder.auxi">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bmtk.builder.bionet.html">bmtk.builder.bionet package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.bionet.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.bionet.html#module-bmtk.builder.bionet.swc_reader">bmtk.builder.bionet.swc_reader module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.bionet.html#module-bmtk.builder.bionet">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bmtk.builder.edges_sorter.html">bmtk.builder.edges_sorter package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.edges_sorter.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.edges_sorter.html#module-bmtk.builder.edges_sorter.memory_sorter">bmtk.builder.edges_sorter.memory_sorter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.edges_sorter.html#module-bmtk.builder.edges_sorter.merge_sorter">bmtk.builder.edges_sorter.merge_sorter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.edges_sorter.html#module-bmtk.builder.edges_sorter">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bmtk.builder.network_adaptors.html">bmtk.builder.network_adaptors package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.network_adaptors.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.network_adaptors.html#module-bmtk.builder.network_adaptors.dm_network">bmtk.builder.network_adaptors.dm_network module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.network_adaptors.html#module-bmtk.builder.network_adaptors.dm_network_orig">bmtk.builder.network_adaptors.dm_network_orig module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.network_adaptors.html#module-bmtk.builder.network_adaptors.edge_props_table">bmtk.builder.network_adaptors.edge_props_table module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.network_adaptors.html#module-bmtk.builder.network_adaptors.edges_collator">bmtk.builder.network_adaptors.edges_collator module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.network_adaptors.html#module-bmtk.builder.network_adaptors.network">bmtk.builder.network_adaptors.network module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.network_adaptors.html#module-bmtk.builder.network_adaptors.nxnetwork">bmtk.builder.network_adaptors.nxnetwork module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.builder.network_adaptors.html#module-bmtk.builder.network_adaptors">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-bmtk.builder.builder_utils">
<span id="bmtk-builder-builder-utils-module"></span><h2>bmtk.builder.builder_utils module<a class="headerlink" href="#module-bmtk.builder.builder_utils" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="bmtk.builder.builder_utils.add_hdf5_attrs">
<code class="sig-prename descclassname">bmtk.builder.builder_utils.</code><code class="sig-name descname">add_hdf5_attrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hdf5_handle</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/builder_utils.html#add_hdf5_attrs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.builder_utils.add_hdf5_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bmtk.builder.builder_utils.barrier">
<code class="sig-prename descclassname">bmtk.builder.builder_utils.</code><code class="sig-name descname">barrier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bmtk.builder.builder_utils.barrier" title="Permalink to this definition">¶</a></dt>
<dd><p>Barrier</p>
</dd></dl>

<dl class="py function">
<dt id="bmtk.builder.builder_utils.check_properties_across_ranks">
<code class="sig-prename descclassname">bmtk.builder.builder_utils.</code><code class="sig-name descname">check_properties_across_ranks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">properties</span></em>, <em class="sig-param"><span class="n">graph_type</span><span class="o">=</span><span class="default_value">'node'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/builder_utils.html#check_properties_across_ranks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.builder_utils.check_properties_across_ranks" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that a properties table is consistant across all MPI ranks. Mainly used by add_nodes() and add_edges()
method due to bug where using random generator without rng_seed was causing issues building the network properties
consistantly using multiple cores.</p>
<p>Will throw an Exception or a warning message (if MPI_fail_params_nonuniform is false)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>properties</strong> – A dictionary</p></li>
<li><p><strong>graph_type</strong> – ‘node’ or ‘edge’, used in error message. default ‘node’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="bmtk.builder.builder_utils.list_to_hash">
<code class="sig-prename descclassname">bmtk.builder.builder_utils.</code><code class="sig-name descname">list_to_hash</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">str_list</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/builder_utils.html#list_to_hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.builder_utils.list_to_hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-bmtk.builder.connection_map">
<span id="bmtk-builder-connection-map-module"></span><h2>bmtk.builder.connection_map module<a class="headerlink" href="#module-bmtk.builder.connection_map" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="bmtk.builder.connection_map.ConnectionMap">
<em class="property">class </em><code class="sig-prename descclassname">bmtk.builder.connection_map.</code><code class="sig-name descname">ConnectionMap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sources</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">targets</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">connector</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">connector_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">iterator</span><span class="o">=</span><span class="default_value">'one_to_one'</span></em>, <em class="sig-param"><span class="n">edge_type_properties</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/connection_map.html#ConnectionMap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for keeping track of connection rules. Used for saving unique edge properties in a network</p>
<dl class="simple">
<dt>For every connection from source –&gt; target this keeps track of rules (functions, literals, lists) for</dt><dd><ol class="arabic simple">
<li><p>the number of synapses between source and target</p></li>
<li><p>Used defined parameters (syn-weight, synaptic-location) for every synapse.</p></li>
</ol>
</dd>
</dl>
<p>The number of synapses rule (1) is stored as a connector. Individual synaptic parameters, if they exists, are stored
as ParamsRules.</p>
<dl>
<dt>Usage:</dt><dd><p>Do not create a ConnectionMap object directly. Rather one is created and return every time NetworkBuilder’s
add_edges() method is called.</p>
<p>For example, The following will create a set of edges where there is between 1 to 16 synapatic connections
between each source and target node. Properties ‘dynamics_params’ and ‘model_template’ will be global
properties:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="o">=</span> <span class="n">net</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ei&#39;</span><span class="p">:</span> <span class="s1">&#39;exc&#39;</span><span class="p">},</span> <span class="n">target</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ei&#39;</span><span class="p">:</span> <span class="s1">&#39;inh&#39;</span><span class="p">},</span>
                   <span class="n">connection_rule</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">_</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
                   <span class="n">dynamics_params</span><span class="o">=</span><span class="s1">&#39;ExcToInh.json&#39;</span><span class="p">,</span>
                   <span class="n">model_template</span><span class="o">=</span><span class="s1">&#39;Exp2Syn&#39;</span><span class="p">,</span>
                   <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>If we want all edges to have a unique ‘syn_weight’ value calculated from source/target locations, we create a
function that takes in source and target (Node object) and returns the syn weight. This function will be called
for every individual connection:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">syn_weight_by_loc</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
    <span class="n">src_loc</span><span class="p">,</span> <span class="n">trg_loc</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">],</span> <span class="n">target</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">]</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">syn_weight</span>

<span class="n">cm</span><span class="o">.</span><span class="n">add_properties</span><span class="p">(</span><span class="s1">&#39;syn_weight&#39;</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="n">syn_weight_by_loc</span><span class="p">,</span> <span class="n">dtypes</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
</pre></div>
</div>
<p>We can also add multiple properties at the same time:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_target_loc_and_dist</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">trg_loc</span><span class="p">,</span> <span class="n">trg_dist</span>

<span class="n">cm</span><span class="o">.</span><span class="n">add_properties</span><span class="p">([</span><span class="s1">&#39;syn_location&#39;</span><span class="p">,</span> <span class="s1">&#39;syn_distance&#39;</span><span class="p">],</span>
              <span class="n">rule</span><span class="o">=</span><span class="n">get_target_loc_and_dist</span><span class="p">,</span>
              <span class="n">dtypes</span><span class="o">=</span><span class="p">[</span><span class="n">string</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">])</span>
</pre></div>
</div>
<p>Once NetworkBuilder.build() is called the ‘connection_rule’ will be called.</p>
</dd>
</dl>
<dl class="py class">
<dt id="bmtk.builder.connection_map.ConnectionMap.ParamsRules">
<em class="property">class </em><code class="sig-name descname">ParamsRules</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">names</span></em>, <em class="sig-param"><span class="n">rule</span></em>, <em class="sig-param"><span class="n">rule_params</span></em>, <em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/connection_map.html#ConnectionMap.ParamsRules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.ParamsRules" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A subclass to store indvidiual synpatic parameter rules</p>
<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.ParamsRules.dtypes">
<em class="property">property </em><code class="sig-name descname">dtypes</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.ParamsRules.dtypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.ParamsRules.get_prop_dtype">
<code class="sig-name descname">get_prop_dtype</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prop_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/connection_map.html#ConnectionMap.ParamsRules.get_prop_dtype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.ParamsRules.get_prop_dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.ParamsRules.names">
<em class="property">property </em><code class="sig-name descname">names</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.ParamsRules.names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.ParamsRules.rule">
<em class="property">property </em><code class="sig-name descname">rule</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.ParamsRules.rule" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.add_properties">
<code class="sig-name descname">add_properties</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">names</span></em>, <em class="sig-param"><span class="n">rule</span></em>, <em class="sig-param"><span class="n">rule_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dtypes</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/connection_map.html#ConnectionMap.add_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.add_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a synaptic property for an individual edge.</p>
<p>Typically this requires a custom rule that will be used for every source/target pair of nodes and returns
a value for the property. Such rule is a user defined function, and will be called by NetworkBuilder.build():</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">syn_weight_by_loc</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">syn_weight</span>

<span class="n">cm</span><span class="o">.</span><span class="n">add_properties</span><span class="p">(</span><span class="s1">&#39;syn_weight&#39;</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="n">syn_weight_by_loc</span><span class="p">,</span> <span class="n">dtypes</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
</pre></div>
</div>
<p>If the connection_rule function requires additional parameters use the rule_params option:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">syn_weight_by_loc</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">min_weight</span><span class="p">,</span> <span class="n">max_weight</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">syn_weight</span>

<span class="n">cm</span><span class="o">.</span><span class="n">add_properties</span><span class="p">(</span><span class="s1">&#39;syn_weight&#39;</span><span class="p">,</span>
                  <span class="n">rule</span><span class="o">=</span><span class="n">syn_weight_by_loc</span><span class="p">,</span>
                  <span class="n">rule_params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;min_weigth&#39;</span><span class="p">:</span><span class="mf">1.0e-7</span><span class="p">,</span> <span class="s1">&#39;max_weight&#39;</span><span class="p">:</span> <span class="mf">5.0e-6</span><span class="p">},</span>
                  <span class="n">dtypes</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
</pre></div>
</div>
<p>You may also have the rule define multiple connection parameters at one time:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">conn_rule</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">min_weight</span><span class="p">,</span> <span class="n">max_weight</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">syn_weight</span><span class="p">,</span> <span class="n">syn_location</span><span class="p">,</span> <span class="n">delay</span>

<span class="n">cm</span><span class="o">.</span><span class="n">add_properties</span><span class="p">([</span><span class="s1">&#39;syn_weight&#39;</span><span class="p">,</span> <span class="s1">&#39;syn_loc&#39;</span><span class="p">,</span> <span class="s1">&#39;delay&#39;</span><span class="p">],</span>
                  <span class="n">rule</span><span class="o">=</span><span class="n">syn_weight_by_loc</span><span class="p">,</span>
                  <span class="n">rule_params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;min_weigth&#39;</span><span class="p">:</span><span class="mf">1.0e-7</span><span class="p">,</span> <span class="s1">&#39;max_weight&#39;</span><span class="p">:</span> <span class="mf">5.0e-6</span><span class="p">},</span>
                  <span class="n">dtypes</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>names</strong> – list, or single string, of the property</p></li>
<li><p><strong>rule</strong> – function, list or value of property</p></li>
<li><p><strong>rule_params</strong> – when rule is a function, rule_params will be passed into function when called.</p></li>
<li><p><strong>dtypes</strong> – expected property type</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.connection_itr">
<code class="sig-name descname">connection_itr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/connection_map.html#ConnectionMap.connection_itr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.connection_itr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that will iterate through the source/target pairs (as specified by the iterator function,
and create a connection rule based on the connector.</p>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.connector">
<em class="property">property </em><code class="sig-name descname">connector</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.connector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.connector_params">
<em class="property">property </em><code class="sig-name descname">connector_params</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.connector_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.edge_type_id">
<em class="property">property </em><code class="sig-name descname">edge_type_id</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.edge_type_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.edge_type_properties">
<em class="property">property </em><code class="sig-name descname">edge_type_properties</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.edge_type_properties" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.iterator">
<em class="property">property </em><code class="sig-name descname">iterator</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.iterator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.max_connections">
<code class="sig-name descname">max_connections</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/connection_map.html#ConnectionMap.max_connections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.max_connections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.params">
<em class="property">property </em><code class="sig-name descname">params</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.properties_keys">
<code class="sig-name descname">properties_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/connection_map.html#ConnectionMap.properties_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.properties_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.property_names">
<em class="property">property </em><code class="sig-name descname">property_names</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.property_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.source_network_name">
<em class="property">property </em><code class="sig-name descname">source_network_name</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.source_network_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.source_nodes">
<em class="property">property </em><code class="sig-name descname">source_nodes</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.source_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.target_network_name">
<em class="property">property </em><code class="sig-name descname">target_network_name</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.target_network_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.connection_map.ConnectionMap.target_nodes">
<em class="property">property </em><code class="sig-name descname">target_nodes</code><a class="headerlink" href="#bmtk.builder.connection_map.ConnectionMap.target_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bmtk.builder.connector">
<span id="bmtk-builder-connector-module"></span><h2>bmtk.builder.connector module<a class="headerlink" href="#module-bmtk.builder.connector" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="bmtk.builder.connector.create">
<code class="sig-prename descclassname">bmtk.builder.connector.</code><code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">connector</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/connector.html#create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.connector.create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bmtk.builder.connector.register">
<code class="sig-prename descclassname">bmtk.builder.connector.</code><code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/connector.html#register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.connector.register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-bmtk.builder.edge">
<span id="bmtk-builder-edge-module"></span><h2>bmtk.builder.edge module<a class="headerlink" href="#module-bmtk.builder.edge" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="bmtk.builder.edge.Edge">
<em class="property">class </em><code class="sig-prename descclassname">bmtk.builder.edge.</code><code class="sig-name descname">Edge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src_gid</span></em>, <em class="sig-param"><span class="n">trg_gid</span></em>, <em class="sig-param"><span class="n">edge_type_props</span></em>, <em class="sig-param"><span class="n">syn_props</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/edge.html#Edge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.edge.Edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="bmtk.builder.edge.Edge.edge_type_id">
<em class="property">property </em><code class="sig-name descname">edge_type_id</code><a class="headerlink" href="#bmtk.builder.edge.Edge.edge_type_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.edge.Edge.edge_type_properties">
<em class="property">property </em><code class="sig-name descname">edge_type_properties</code><a class="headerlink" href="#bmtk.builder.edge.Edge.edge_type_properties" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.edge.Edge.source_gid">
<em class="property">property </em><code class="sig-name descname">source_gid</code><a class="headerlink" href="#bmtk.builder.edge.Edge.source_gid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.edge.Edge.source_node_id">
<em class="property">property </em><code class="sig-name descname">source_node_id</code><a class="headerlink" href="#bmtk.builder.edge.Edge.source_node_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.edge.Edge.synaptic_properties">
<em class="property">property </em><code class="sig-name descname">synaptic_properties</code><a class="headerlink" href="#bmtk.builder.edge.Edge.synaptic_properties" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.edge.Edge.target_gid">
<em class="property">property </em><code class="sig-name descname">target_gid</code><a class="headerlink" href="#bmtk.builder.edge.Edge.target_gid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.edge.Edge.target_node_id">
<em class="property">property </em><code class="sig-name descname">target_node_id</code><a class="headerlink" href="#bmtk.builder.edge.Edge.target_node_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bmtk.builder.functor_cache">
<span id="bmtk-builder-functor-cache-module"></span><h2>bmtk.builder.functor_cache module<a class="headerlink" href="#module-bmtk.builder.functor_cache" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="bmtk.builder.functor_cache.FunctorCache">
<em class="property">class </em><code class="sig-prename descclassname">bmtk.builder.functor_cache.</code><code class="sig-name descname">FunctorCache</code><a class="reference internal" href="../_modules/bmtk/builder/functor_cache.html#FunctorCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.functor_cache.FunctorCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="bmtk.builder.functor_cache.FunctorCache.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">connector</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/functor_cache.html#FunctorCache.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.functor_cache.FunctorCache.create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.functor_cache.FunctorCache.register">
<code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/functor_cache.html#FunctorCache.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.functor_cache.FunctorCache.register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bmtk.builder.id_generator">
<span id="bmtk-builder-id-generator-module"></span><h2>bmtk.builder.id_generator module<a class="headerlink" href="#module-bmtk.builder.id_generator" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="bmtk.builder.id_generator.IDGenerator">
<em class="property">class </em><code class="sig-prename descclassname">bmtk.builder.id_generator.</code><code class="sig-name descname">IDGenerator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">init_val</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/id_generator.html#IDGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.id_generator.IDGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A simple class for fetching global ids. To get a unqiue global ID class next(), which should be thread-safe. It
Also has a remove_id(gid) in which case next() will never return the gid. The remove_id function is used for cases
when using imported networks and we want to eliminate previously created id.</p>
<dl class="simple">
<dt>TODO:</dt><dd><ul class="simple">
<li><p>Implement a bit array to keep track of already existing gids</p></li>
<li><p>It might be necessary to implement with MPI support?</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="bmtk.builder.id_generator.IDGenerator.get_ids">
<code class="sig-name descname">get_ids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/id_generator.html#IDGenerator.get_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.id_generator.IDGenerator.get_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.id_generator.IDGenerator.next">
<code class="sig-name descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/id_generator.html#IDGenerator.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.id_generator.IDGenerator.next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.id_generator.IDGenerator.remove_id">
<code class="sig-name descname">remove_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/id_generator.html#IDGenerator.remove_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.id_generator.IDGenerator.remove_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bmtk.builder.index_builders">
<span id="bmtk-builder-index-builders-module"></span><h2>bmtk.builder.index_builders module<a class="headerlink" href="#module-bmtk.builder.index_builders" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="bmtk.builder.index_builders.create_index_in_memory">
<code class="sig-prename descclassname">bmtk.builder.index_builders.</code><code class="sig-name descname">create_index_in_memory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges_file</span></em>, <em class="sig-param"><span class="n">edges_population</span></em>, <em class="sig-param"><span class="n">index_type</span></em>, <em class="sig-param"><span class="n">force_rebuild</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/index_builders.html#create_index_in_memory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.index_builders.create_index_in_memory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bmtk.builder.index_builders.create_index_on_disk">
<code class="sig-prename descclassname">bmtk.builder.index_builders.</code><code class="sig-name descname">create_index_on_disk</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges_file</span></em>, <em class="sig-param"><span class="n">edges_population</span></em>, <em class="sig-param"><span class="n">index_type</span></em>, <em class="sig-param"><span class="n">force_rebuild</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cache_file</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_edge_reads</span><span class="o">=</span><span class="default_value">200000000</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/index_builders.html#create_index_on_disk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.index_builders.create_index_on_disk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bmtk.builder.index_builders.remove_index">
<code class="sig-prename descclassname">bmtk.builder.index_builders.</code><code class="sig-name descname">remove_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges_file</span></em>, <em class="sig-param"><span class="n">edges_population</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/index_builders.html#remove_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.index_builders.remove_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-bmtk.builder.iterator">
<span id="bmtk-builder-iterator-module"></span><h2>bmtk.builder.iterator module<a class="headerlink" href="#module-bmtk.builder.iterator" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="bmtk.builder.iterator.IteratorCache">
<em class="property">class </em><code class="sig-prename descclassname">bmtk.builder.iterator.</code><code class="sig-name descname">IteratorCache</code><a class="reference internal" href="../_modules/bmtk/builder/iterator.html#IteratorCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.iterator.IteratorCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="bmtk.builder.iterator.IteratorCache.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">itr_name</span></em>, <em class="sig-param"><span class="n">itr_type</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/iterator.html#IteratorCache.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.iterator.IteratorCache.create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.iterator.IteratorCache.register">
<code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">itr_type</span></em>, <em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/iterator.html#IteratorCache.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.iterator.IteratorCache.register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="bmtk.builder.iterator.all_to_one_iterator">
<code class="sig-prename descclassname">bmtk.builder.iterator.</code><code class="sig-name descname">all_to_one_iterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_nodes</span></em>, <em class="sig-param"><span class="n">target_nodes</span></em>, <em class="sig-param"><span class="n">connector</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/iterator.html#all_to_one_iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.iterator.all_to_one_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through all the target nodes and return target node + list of all sources</p>
</dd></dl>

<dl class="py function">
<dt id="bmtk.builder.iterator.all_to_one_list_iterator">
<code class="sig-prename descclassname">bmtk.builder.iterator.</code><code class="sig-name descname">all_to_one_list_iterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_nodes</span></em>, <em class="sig-param"><span class="n">target_nodes</span></em>, <em class="sig-param"><span class="n">vals</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/iterator.html#all_to_one_list_iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.iterator.all_to_one_list_iterator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bmtk.builder.iterator.create">
<code class="sig-prename descclassname">bmtk.builder.iterator.</code><code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterator</span></em>, <em class="sig-param"><span class="n">connector</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/iterator.html#create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.iterator.create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bmtk.builder.iterator.lambda_iterator">
<code class="sig-prename descclassname">bmtk.builder.iterator.</code><code class="sig-name descname">lambda_iterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_nodes</span></em>, <em class="sig-param"><span class="n">target_nodes</span></em>, <em class="sig-param"><span class="n">lambda_val</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/iterator.html#lambda_iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.iterator.lambda_iterator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bmtk.builder.iterator.one_to_all_iterator">
<code class="sig-prename descclassname">bmtk.builder.iterator.</code><code class="sig-name descname">one_to_all_iterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_nodes</span></em>, <em class="sig-param"><span class="n">target_nodes</span></em>, <em class="sig-param"><span class="n">connector</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/iterator.html#one_to_all_iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.iterator.one_to_all_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls the connector function with (1 source, all targets), iterated for each source</p>
</dd></dl>

<dl class="py function">
<dt id="bmtk.builder.iterator.one_to_all_list_iterator">
<code class="sig-prename descclassname">bmtk.builder.iterator.</code><code class="sig-name descname">one_to_all_list_iterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_nodes</span></em>, <em class="sig-param"><span class="n">target_nodes</span></em>, <em class="sig-param"><span class="n">vals</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/iterator.html#one_to_all_list_iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.iterator.one_to_all_list_iterator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bmtk.builder.iterator.one_to_one_iterator">
<code class="sig-prename descclassname">bmtk.builder.iterator.</code><code class="sig-name descname">one_to_one_iterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_nodes</span></em>, <em class="sig-param"><span class="n">target_nodes</span></em>, <em class="sig-param"><span class="n">connector</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/iterator.html#one_to_one_iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.iterator.one_to_one_iterator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bmtk.builder.iterator.one_to_one_list_iterator">
<code class="sig-prename descclassname">bmtk.builder.iterator.</code><code class="sig-name descname">one_to_one_list_iterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_nodes</span></em>, <em class="sig-param"><span class="n">target_nodes</span></em>, <em class="sig-param"><span class="n">vals</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/iterator.html#one_to_one_list_iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.iterator.one_to_one_list_iterator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bmtk.builder.iterator.register">
<code class="sig-prename descclassname">bmtk.builder.iterator.</code><code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">dtype</span></em>, <em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/iterator.html#register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.iterator.register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-bmtk.builder.network_builder">
<span id="bmtk-builder-network-builder-module"></span><h2>bmtk.builder.network_builder module<a class="headerlink" href="#module-bmtk.builder.network_builder" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="bmtk.builder.network_builder.BioNetBuilder">
<em class="property">class </em><code class="sig-prename descclassname">bmtk.builder.network_builder.</code><code class="sig-name descname">BioNetBuilder</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">adaptor_cls=&lt;class 'bmtk.builder.network_adaptors.dm_network.DenseNetwork'&gt;</em>, <em class="sig-param">**network_props</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#BioNetBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.BioNetBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#bmtk.builder.network_builder.NetworkBuilder" title="bmtk.builder.network_builder.NetworkBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">bmtk.builder.network_builder.NetworkBuilder</span></code></a></p>
<p>An instance of NetworkBuilder specifically designed for building BioNet (NEURON) complainant networks</p>
<dl class="py method">
<dt id="bmtk.builder.network_builder.BioNetBuilder.add_edges">
<code class="sig-name descname">add_edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">target</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">connection_rule</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">connection_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">iterator</span><span class="o">=</span><span class="default_value">'one_to_one'</span></em>, <em class="sig-param"><span class="n">model_template</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dynamics_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">syn_weight</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">target_sections</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">distance_range</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#BioNetBuilder.add_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.BioNetBuilder.add_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Add rules for creating edges between a subset of source and target cells.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> – A dictionary or list of Node objects (see nodes() method). Used to filter out pre-synaptic
subset of nodes.</p></li>
<li><p><strong>target</strong> – A dictionary or list of Node objects). Used to filter out post-synaptic subset of nodes</p></li>
<li><p><strong>connection_rule</strong> – Integer or a function that returns integer(s). Rule to determine number of connections
between each source and target node</p></li>
<li><p><strong>connection_params</strong> – A dictionary, used when the ‘connection_rule’ is a function that requires additional
argments</p></li>
<li><p><strong>iterator</strong> – ‘one_to_one’, ‘all_to_one’, ‘one_to_all’. When ‘connection_rule’ is a function this sets
how the subsets of source/target nodes are passed in. By default (one-to-one) the connection_rule is
called for every source/target pair. ‘all-to-one’ will pass in a list of all possible source nodes for
each target, and ‘one-to-all’ will pass in a list of all possible targets for each source.</p></li>
<li><p><strong>model_template</strong> – A predefined or user generated NEURON function name for generating connection. (default:
exp2syn).</p></li>
<li><p><strong>dynamics_params</strong> – A json file path or a dictionary of edge/synapse dynamics parameter values used for
generating the connection, according to the model_template function. If passing in the name or path of a
json file the parameter values will be applied to a edges.</p></li>
<li><p><strong>syn_weight</strong> – float or list of N floats, weights applied to each edge/synpase, value dependent on model</p></li>
<li><p><strong>delay</strong> – float or list of N floats, delay in milliseconds for cell-cell events</p></li>
<li><p><strong>target_sections</strong> – list of strings, non-SONATA compliant, locations of where to place synpases when the
target cell is model_type=biophysical. One or more of the following values: somatic, basal, apical, axon.
If specified post-synaptic location will be randomly chosen from given sections (+ distance_range value).
To assign specific locations use afferent_section_id/afferent_section_pos along with the ConnectionMap
instance returned.</p></li>
<li><p><strong>distance_range</strong> – A numeric range of floats [beg, end]. non SONATA compliant. Start and end arc-length
distance from SOMA where the post-synaptic location will be placed on a model_type=biophysical cell. Along
with target_sections parameter can be used to randomly but strategically connection cells. To assign
specific locations use afferent_section_id/afferent_section_pos along with the returned ConnectionMap.</p></li>
<li><p><strong>properties</strong> – properties/attributes of the given edge type</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A ConnectionMap object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.BioNetBuilder.add_nodes">
<code class="sig-name descname">add_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">N</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">model_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">model_template</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">model_processing</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dynamics_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">morphology</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">x</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">z</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rotation_angle_xaxis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rotation_angle_yaxis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rotation_angle_zaxis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#BioNetBuilder.add_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.BioNetBuilder.add_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a set of N NEURON type nodes/cells to the network</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> – number of nodes (cells) in this group</p></li>
<li><p><strong>model_type</strong> – the type of node, ‘biophysical’, ‘virtual’, ‘single_compartment’, or ‘point_neuron’</p></li>
<li><p><strong>model_template</strong> – Template or class used to instantiate all instances of each cell, eg. a NeuroML or
NEURON Hoc Template file. Should contain a prefix of the format type (‘nml:&lt;Cell.nml&gt;’ or
‘ctdb:Biophys1.hoc’</p></li>
<li><p><strong>model_processing</strong> – string, pre-defined or user function applied to instantiated cell property/morphology,
if using Allen Cell-Type Database biophysical models use ‘aibs_perisomatic’ or ‘aibs_allactive’.</p></li>
<li><p><strong>dynamics_params</strong> – <p>A file-name or a dictionary of cell-dynamics parameter values used for generating the
cell. If using models from Allen Cell-Type Database then passing in the name of &lt;model&gt;_fit.json file will
apply the same model params to all N cells. If you want unique params for each cell pass in a dictionary
where each key has an associated list of size N:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dynamics_params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;g_bar&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="s1">&#39;na_bar&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.653e-5</span><span class="p">,</span> <span class="mf">9.235e-6</span><span class="p">,</span> <span class="o">...</span><span class="p">]}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>morphology</strong> – string, name of morphology swc file used for creating model_type=biophysical cells</p></li>
<li><p><strong>x</strong> – list/array of size N floats for each cell’s x-axis soma position</p></li>
<li><p><strong>y</strong> – list/array of size N floats for each cell’s y-axis soma position</p></li>
<li><p><strong>z</strong> – list/array of size N floats for each cell’s z-axis soma position</p></li>
<li><p><strong>rotation_angle_xaxis</strong> – x-axis euler rotation angle around the soma in radians</p></li>
<li><p><strong>rotation_angle_yaxis</strong> – y-axis euler rotation angle around the soma in radians</p></li>
<li><p><strong>rotation_angle_zaxis</strong> – z-axis euler rotation angle around the soma in radians</p></li>
<li><p><strong>properties</strong> – Individual and group properties of given nodes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="bmtk.builder.network_builder.NetworkBuilder">
<em class="property">class </em><code class="sig-prename descclassname">bmtk.builder.network_builder.</code><code class="sig-name descname">NetworkBuilder</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">adaptor_cls=&lt;class 'bmtk.builder.network_adaptors.dm_network.DenseNetwork'&gt;</em>, <em class="sig-param">**network_props</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#NetworkBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The NetworkBuilder class is used for building and saving a brain network/circuit. By default it will save to
SONATA format for running network simulations using BioNet, PointNet, PopNet or FilterNet bmtk modules, however it
can be generalized to build any time of network for any time of simulation.</p>
<dl>
<dt>Building the network:</dt><dd><p>For the general use-case building a network consists of 4 steps, each with a corresponding method.</p>
<ol class="arabic">
<li><p>Initialize the network:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">net</span> <span class="o">=</span> <span class="n">NetworkBuilder</span><span class="p">(</span><span class="s2">&quot;network_name&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Create nodes (ie cells) using the <strong>add_nodes()</strong> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">net</span><span class="o">.</span><span class="n">add_nodes</span><span class="p">(</span><span class="n">N</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Biophysical&#39;</span><span class="p">,</span> <span class="n">ei</span><span class="o">=</span><span class="s1">&#39;exc&#39;</span><span class="p">)</span>
<span class="n">net</span><span class="o">.</span><span class="n">add_nodes</span><span class="p">(</span><span class="n">N</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;IntFire&#39;</span><span class="p">,</span> <span class="n">ei</span><span class="o">=</span><span class="s1">&#39;inh&#39;</span><span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
</li>
<li><p>Create Connection rules between different subsets of nodes using <strong>add_edges()</strong> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">net</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ei&#39;</span><span class="p">:</span> <span class="s1">&#39;exc&#39;</span><span class="p">},</span> <span class="n">target</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ei&#39;</span><span class="p">:</span> <span class="s1">&#39;inh&#39;</span><span class="p">},</span>
              <span class="n">connection_rule</span><span class="o">=</span><span class="n">my_conn_func</span><span class="p">,</span> <span class="n">synaptic_model</span><span class="o">=</span><span class="s1">&#39;e2i&#39;</span><span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
</li>
<li><p>Finally <strong>build</strong> the network and <strong>save</strong> the files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">net</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
<span class="n">net</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">output_dir</span><span class="o">=</span><span class="s1">&#39;network_path&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>See the bmtk documentation, or the method doc-strings for more advanced functionality</p>
</dd>
<dt>Network Accessor methods:</dt><dd><p><strong>nodes()</strong></p>
<p>Will return a iterable of Node objects for each node created. The Node objects can be used like dictionaries to
fetch their properties. By default returns all nodes in the network, but you can filter out a given subset by
passing in property/values pairs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">net</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Biophysical&#39;</span><span class="p">,</span> <span class="n">ei</span><span class="o">=</span><span class="s1">&#39;exc&#39;</span><span class="p">):</span>
    <span class="k">assert</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;ei&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;exc&#39;</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p><strong>edges()</strong></p>
<p>Like the nodes() methods, but insteads returns a list of Edge type objects. It too can be filtered by an edge
property:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">net</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">synaptic_model</span><span class="o">=</span><span class="s1">&#39;exp2&#39;</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>One can also pass in a list of source (or target) to filter out only those edges which belong to a specific
subset of cells:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">net</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">target_nodes</span><span class="o">=</span><span class="n">net</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">ei</span><span class="o">=</span><span class="s1">&#39;exc&#39;</span><span class="p">)):</span>
<span class="o">...</span>
</pre></div>
</div>
</dd>
<dt>Network Properties:</dt><dd><ul class="simple">
<li><p><strong>name</strong> - name of the network</p></li>
<li><p><strong>nnodes</strong> - number of nodes (cells) in the network.</p></li>
<li><p><strong>nedges</strong> - number of edges. Will be zero if build() method hasn’t been called</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.add_edges">
<code class="sig-name descname">add_edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">target</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">connection_rule</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">connection_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">iterator</span><span class="o">=</span><span class="default_value">'one_to_one'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">edge_type_properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#NetworkBuilder.add_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.add_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to create the connectivity matrix between subsets of nodes. The actually connections will not be
created until the build() method is called, using the ‘connection_rule.</p>
<dl>
<dt>Node Selection:</dt><dd><p>To specify what subset of nodes will be used for the pre- and post-synaptic one can use a dictionary to
filter the nodes. In the following all inh nodes will be used for the pre-synaptic neurons, but only exc
fast-spiking neurons will be used in the post-synaptic neurons (If target or source is not specified all
neurons will be used):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">net</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ei&#39;</span><span class="p">:</span> <span class="s1">&#39;inh&#39;</span><span class="p">},</span> <span class="n">target</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ei&#39;</span><span class="p">:</span> <span class="s1">&#39;exc&#39;</span><span class="p">,</span> <span class="s1">&#39;etype&#39;</span><span class="p">:</span> <span class="s1">&#39;fast-spiking&#39;</span><span class="p">},</span>
              <span class="n">dynamic_params</span><span class="o">=</span><span class="s1">&#39;i2e.json&#39;</span><span class="p">,</span> <span class="n">synaptic_model</span><span class="o">=</span><span class="s1">&#39;alpha&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>In the above code there is one connection between each source/target pair of nodes, but to create a
multi-graph with N connections between each pair use ‘connection_rule’ parameter with an integer value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">net</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span>
    <span class="n">source</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ei&#39;</span><span class="p">:</span> <span class="s1">&#39;inh&#39;</span><span class="p">},</span>
    <span class="n">target</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ei&#39;</span><span class="p">:</span> <span class="s1">&#39;exc&#39;</span><span class="p">,</span> <span class="s1">&#39;etype&#39;</span><span class="p">:</span> <span class="s1">&#39;fast-spiking&#39;</span><span class="p">},</span>
    <span class="n">connection_rule</span><span class="o">=</span><span class="n">N</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Connection rules:</dt><dd><p>Usually the ‘connection_rule’ parameter will be the name of a function that takes in source-node and
target-node object (which can be treated like dictionaries, and returns the number of connections (ie
synapses, 0 or None if no synapses should exists) between the source and target cell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_conn_fnc</span><span class="p">(</span><span class="n">source_node</span><span class="p">,</span> <span class="n">target_node</span><span class="p">):</span>
    <span class="n">src_pos</span> <span class="o">=</span> <span class="n">source_node</span><span class="p">[</span><span class="s1">&#39;position&#39;</span><span class="p">]</span>
    <span class="n">trg_pos</span> <span class="o">=</span> <span class="n">target_node</span><span class="p">[</span><span class="s1">&#39;position&#39;</span><span class="p">]</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">N_syns</span>

<span class="n">net</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ei&#39;</span><span class="p">:</span> <span class="s1">&#39;exc&#39;</span><span class="p">},</span> <span class="n">target</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ei&#39;</span><span class="p">:</span> <span class="s1">&#39;inh&#39;</span><span class="p">},</span> <span class="n">connection_rule</span><span class="o">=</span><span class="n">my_conn_fnc</span><span class="p">,</span> <span class="o">**</span><span class="n">opt_edge_attrs</span><span class="p">)</span>
</pre></div>
</div>
<p>If the connection_rule function requires addition arguments use the ‘connection_params’ option:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_conn_fnc</span><span class="p">(</span><span class="n">source_node</span><span class="p">,</span> <span class="n">target_node</span><span class="p">,</span> <span class="n">min_edges</span><span class="p">,</span> <span class="n">max_edges</span><span class="p">)</span>
    <span class="o">...</span>

<span class="n">net</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">connection_rule</span><span class="o">=</span><span class="n">my_conn_fnc</span><span class="p">,</span> <span class="n">connection_params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;min_edges&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;max_edges&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>Sometimes it may be more efficient or even a requirement that multiple connections are created at the same
time. For example a post-synaptic neuron may only be targeted by a limited number of sources which couldn’t
be done by the previous connection_rule function. But by setting property ‘iterator’ to value ‘all_to_one’
the connection_rule function now takes in as a value a list of N source neurons, a single target, and should
return a list of size N:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bulk_conn_fnc</span><span class="p">(</span><span class="n">sources</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
    <span class="n">syn_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sources</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">sources</span><span class="p">:</span>
        <span class="o">....</span>
    <span class="k">return</span> <span class="n">syn_list</span>

<span class="n">net</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">connection_rule</span><span class="o">=</span><span class="n">bulk_conn_fnc</span><span class="p">,</span> <span class="n">iterator</span><span class="o">=</span><span class="s1">&#39;all_to_one&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>There is also a ‘one_to_all’ iterator option that will pair each source node with a list of all available
target nodes.</p>
</dd>
<dt>Edge Properties:</dt><dd><p>Normally the properties used when creating a given type of edge will be shared by all the individual
connections. To create unique values for each edge, the add_edges() method returns a ConnectionMap object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">set_syn_weight_by_dist</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
    <span class="n">src_pos</span><span class="p">,</span> <span class="n">trg_pos</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="s1">&#39;position&#39;</span><span class="p">],</span> <span class="n">target</span><span class="p">[</span><span class="s1">&#39;position&#39;</span><span class="p">]</span>
    <span class="o">....</span>
    <span class="k">return</span> <span class="n">syn_weight</span>

<span class="n">cm</span> <span class="o">=</span> <span class="n">net</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">connection_rule</span><span class="o">=</span><span class="n">my_conn_fnc</span><span class="p">,</span> <span class="n">model_template</span><span class="o">=</span><span class="s1">&#39;Exp2Syn&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
                <span class="n">delay</span><span class="o">=</span><span class="mf">2.0</span><span class="p">)</span>
<span class="n">cm</span><span class="o">.</span><span class="n">add_properties</span><span class="p">(</span><span class="s1">&#39;syn_weight&#39;</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="n">set_syn_weight_by_dist</span><span class="p">)</span>
<span class="n">cm</span><span class="o">.</span><span class="n">add_properties</span><span class="p">(</span><span class="s1">&#39;delay&#39;</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">_</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.50</span><span class="p">))</span>
</pre></div>
</div>
<p>In this case the ‘model_template’ property has a value for all connections of this given type of edge. The
‘syn_weight’ and ‘delay’ properties will (most likely) be unique values. See ConnectionMap documentation for
more info.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> – A dictionary or list of Node objects (see nodes() method). Used to filter out pre-synaptic
subset of nodes.</p></li>
<li><p><strong>target</strong> – A dictionary or list of Node objects). Used to filter out post-synaptic subset of nodes</p></li>
<li><p><strong>connection_rule</strong> – Integer or a function that returns integer(s). Rule to determine number of connections
between each source and target node</p></li>
<li><p><strong>connection_params</strong> – A dictionary, used when the ‘connection_rule’ is a function that requires additional
argments</p></li>
<li><p><strong>iterator</strong> – ‘one_to_one’, ‘all_to_one’, ‘one_to_all’. When ‘connection_rule’ is a function this sets
how the subsets of source/target nodes are passed in. By default (one-to-one) the connection_rule is
called for every source/target pair. ‘all-to-one’ will pass in a list of all possible source nodes for
each target, and ‘one-to-all’ will pass in a list of all possible targets for each source.</p></li>
<li><p><strong>edge_type_properties</strong> – properties/attributes of the given edge type</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A ConnectionMap object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.add_nodes">
<code class="sig-name descname">add_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">N</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#NetworkBuilder.add_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.add_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to add nodes (eg cells) to a network. User should specify the number of Nodes (N) and can use any
properties/attributes they require to define the nodes. By default, all individual cells will be assigned a
unique ‘node_id’ to identify each node in the network and a ‘node_type_id’ to identify each group of nodes.</p>
<p>If a property is a singular value then said property will be shared by all the nodes in the group. If a value
is a list of length N then each property will be uniquely assigned to each node. In the below example a group
of 100 nodes is created, all share the same ‘model_type’ parameter but the pos_x values will be different for
each node:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">net</span><span class="o">.</span><span class="n">add_nodes</span><span class="p">(</span><span class="n">N</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">pos_x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;intfire1&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>You can use a tuple to store property values (in which the SONATA hdf5 will save it as a dataset with multiple
columns). For example to have one property ‘positions’ which keeps track of the x/y/z coordinates of each cell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">net</span><span class="o">.</span><span class="n">add_nodes</span><span class="p">(</span><span class="n">N</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">positions</span><span class="o">=</span><span class="p">[(</span><span class="n">rand</span><span class="p">(),</span> <span class="n">rand</span><span class="p">(),</span> <span class="n">rand</span><span class="p">())</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)],</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> – number of nodes in this group</p></li>
<li><p><strong>properties</strong> – Individual and group properties of given nodes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.build">
<code class="sig-name descname">build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">force</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#NetworkBuilder.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds nodes and edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>force</strong> – set true to force complete rebuilding of nodes and edges, if nodes() or save_nodes() has been
called before then forcing a rebuild may change gids of each node.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#NetworkBuilder.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the network removing the nodes and edges created.</p>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.edges">
<code class="sig-name descname">edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target_nodes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">source_nodes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">target_network</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">source_network</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#NetworkBuilder.edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of dictionary-like Edge objects, given filter parameters.</p>
<p>To get all edges from a network:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">edges</span> <span class="o">=</span> <span class="n">net</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
</pre></div>
</div>
<p>To specify the target and/or source node-set:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">edges</span> <span class="o">=</span> <span class="n">net</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">target_nodes</span><span class="o">=</span><span class="n">net</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;biophysical&#39;</span><span class="p">),</span> <span class="n">source_nodes</span><span class="o">=</span><span class="n">net</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">ei</span><span class="o">=</span><span class="s1">&#39;i&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>To only get edges with a given edge_property:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">edges</span> <span class="o">=</span> <span class="n">net</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">weight</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">syn_type</span><span class="o">=</span><span class="s1">&#39;AMPA_Exc2Exc&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_nodes</strong> – gid, list of gid, dict or node-pool. Set of target nodes for a given edge.</p></li>
<li><p><strong>source_nodes</strong> – gid, list of gid, dict or node-pool. Set of source nodes for a given edge.</p></li>
<li><p><strong>target_network</strong> – name of network containing target nodes.</p></li>
<li><p><strong>source_network</strong> – name of network containing source nodes.</p></li>
<li><p><strong>properties</strong> – edge-properties used to filter out only certain edges.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of bmtk.builder.edge.Edge properties.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.edges_built">
<em class="property">property </em><code class="sig-name descname">edges_built</code><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.edges_built" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the connectivity matrix has been instantiated for this network.</p>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.import_nodes">
<code class="sig-name descname">import_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nodes_file_name</span></em>, <em class="sig-param"><span class="n">node_types_file_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#NetworkBuilder.import_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.import_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Import nodes from an existing sonata file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes_file_name</strong> – </p></li>
<li><p><strong>node_types_file_name</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name (string) of this network.</p>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.nedges">
<em class="property">property </em><code class="sig-name descname">nedges</code><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.nedges" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the total number of edges for this network.</p>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.nnodes">
<em class="property">property </em><code class="sig-name descname">nnodes</code><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.nnodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of nodes for this network.</p>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.nodes">
<code class="sig-name descname">nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#NetworkBuilder.nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator of Node (glorified dictionary) objects, filtered by parameters.</p>
<p>To get all nodes on a network:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">net</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>To only get those nodes with properties that match a given list of parameter values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">nod</span> <span class="ow">in</span> <span class="n">net</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">param1</span><span class="o">=</span><span class="n">value1</span><span class="p">,</span> <span class="n">param2</span><span class="o">=</span><span class="n">value2</span><span class="p">,</span> <span class="o">...</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>properties</strong> – key-value pair of node attributes to filter returned nodes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An iterator of Node objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.nodes_built">
<em class="property">property </em><code class="sig-name descname">nodes_built</code><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.nodes_built" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if nodes has been instantiated for this network.</p>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">output_dir</span><span class="o">=</span><span class="default_value">'.'</span></em>, <em class="sig-param"><span class="n">force_overwrite</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#NetworkBuilder.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to save the network files in the appropriate (eg SONATA) format into the output_dir directory. The file
names will be automatically generated based on the network names.</p>
<p>To have more control over the output and file names use the <strong>save_nodes()</strong> and <strong>save_edges()</strong> methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_dir</strong> – string, directory where network files will be generated. Default, current working directory.</p></li>
<li><p><strong>force_overwrite</strong> – Overwrites existing network files.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.save_edges">
<code class="sig-name descname">save_edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges_file_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">edge_types_file_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_dir</span><span class="o">=</span><span class="default_value">'.'</span></em>, <em class="sig-param"><span class="n">src_network</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">trg_network</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">force_build</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">force_overwrite</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#NetworkBuilder.save_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.save_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the instantiated edges in SONATA format files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>edges_file_name</strong> – file-name of hdf5 edges file. By default will use &lt;src_network&gt;_&lt;trg_network&gt;_edges.h5.</p></li>
<li><p><strong>edge_types_file_name</strong> – file-name of csv edge-types file. By default will use
&lt;src_network&gt;_&lt;trg_network&gt;_edges.h5.</p></li>
<li><p><strong>output_dir</strong> – Directory where network files will be generated. Default, current working directory.</p></li>
<li><p><strong>src_network</strong> – Name of the source-node populations.</p></li>
<li><p><strong>trg_network</strong> – Name of the target-node populations.</p></li>
<li><p><strong>name</strong> – Name of edge populations, eg /edges/&lt;name&gt; in edges.h5 file.</p></li>
<li><p><strong>force_build</strong> – Force to (re)build the connection matrix if it hasn’t already been built.</p></li>
<li><p><strong>force_overwrite</strong> – Overwrites existing network files.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.NetworkBuilder.save_nodes">
<code class="sig-name descname">save_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nodes_file_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">node_types_file_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_dir</span><span class="o">=</span><span class="default_value">'.'</span></em>, <em class="sig-param"><span class="n">force_overwrite</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#NetworkBuilder.save_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.NetworkBuilder.save_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the instantiated nodes in SONATA format files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes_file_name</strong> – file-name of hdf5 nodes file. By default will use &lt;network.name&gt;_nodes.h5.</p></li>
<li><p><strong>node_types_file_name</strong> – file-name of the csv node-types file. By default will use
&lt;network.name&gt;_node_types.csv</p></li>
<li><p><strong>output_dir</strong> – Directory where network files will be generated. Default, current working directory.</p></li>
<li><p><strong>force_overwrite</strong> – Overwrites existing network files.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="bmtk.builder.network_builder.PointNetBuilder">
<em class="property">class </em><code class="sig-prename descclassname">bmtk.builder.network_builder.</code><code class="sig-name descname">PointNetBuilder</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">adaptor_cls=&lt;class 'bmtk.builder.network_adaptors.dm_network.DenseNetwork'&gt;</em>, <em class="sig-param">**network_props</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#PointNetBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.PointNetBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#bmtk.builder.network_builder.NetworkBuilder" title="bmtk.builder.network_builder.NetworkBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">bmtk.builder.network_builder.NetworkBuilder</span></code></a></p>
<p>An instance of NetworkBuilder specifically designed for building PointNet (NEST) complainant networks</p>
<dl class="py method">
<dt id="bmtk.builder.network_builder.PointNetBuilder.add_edges">
<code class="sig-name descname">add_edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">target</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">connection_rule</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">connection_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">iterator</span><span class="o">=</span><span class="default_value">'one_to_one'</span></em>, <em class="sig-param"><span class="n">model_template</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dynamics_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">syn_weight</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#PointNetBuilder.add_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.PointNetBuilder.add_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Add rules for creating edges between a subset of source and target cells.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> – A dictionary or list of Node objects (see nodes() method). Used to filter out pre-synaptic
subset of nodes.</p></li>
<li><p><strong>target</strong> – A dictionary or list of Node objects). Used to filter out post-synaptic subset of nodes</p></li>
<li><p><strong>connection_rule</strong> – Integer or a function that returns integer(s). Rule to determine number of connections
between each source and target node</p></li>
<li><p><strong>connection_params</strong> – A dictionary, used when the ‘connection_rule’ is a function that requires additional
argments</p></li>
<li><p><strong>iterator</strong> – ‘one_to_one’, ‘all_to_one’, ‘one_to_all’. When ‘connection_rule’ is a function this sets
how the subsets of source/target nodes are passed in. By default (one-to-one) the connection_rule is
called for every source/target pair. ‘all-to-one’ will pass in a list of all possible source nodes for
each target, and ‘one-to-all’ will pass in a list of all possible targets for each source.</p></li>
<li><p><strong>model_template</strong> – A predefined or user generated NEURON function name for generating connection. (default:
exp2syn).</p></li>
<li><p><strong>dynamics_params</strong> – A json file path or a dictionary of edge/synapse dynamics parameter values used for
generating the connection, according to the model_template function. If passing in the name or path of a
json file the parameter values will be applied to a edges.</p></li>
<li><p><strong>syn_weight</strong> – float or list of N floats, weights applied to each edge/synpase, value dependent on model</p></li>
<li><p><strong>delay</strong> – float or list of N floats, delay in milliseconds for cell-cell events</p></li>
<li><p><strong>properties</strong> – properties/attributes of the given edge type</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A ConnectionMap object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.PointNetBuilder.add_nodes">
<code class="sig-name descname">add_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">N</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">model_type</span><span class="o">=</span><span class="default_value">'point_neuron'</span></em>, <em class="sig-param"><span class="n">model_template</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dynamics_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">x</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">z</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#PointNetBuilder.add_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.PointNetBuilder.add_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a set of N NEST model nodes/cells to the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> – </p></li>
<li><p><strong>model_type</strong> – The type of node, should be value ‘point_neuron’</p></li>
<li><p><strong>model_template</strong> – Name of NEST neuron model to used, should have a ‘nest:’ prefix; nest:iaf_psc_alpha,
nest:glif_asc</p></li>
<li><p><strong>dynamics_params</strong> – <p>A file-name or a dictionary of cell-dynamics parameter values used for generating the
cell, with parameters matching that of the parameters used to initialize NEST model_template cell. If you
want unique params for each cell pass in a dictionary where each key has an associated list of size N:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dynamics_params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;v_init&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="o">-</span><span class="mi">85</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="s1">&#39;v_reset&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">...</span><span class="p">]}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>x</strong> – list/array of size N floats for each cell’s x-axis position</p></li>
<li><p><strong>y</strong> – list/array of size N floats for each cell’s y-axis position</p></li>
<li><p><strong>z</strong> – list/array of size N floats for each cell’s z-axis position</p></li>
<li><p><strong>properties</strong> – Individual and group properties of given nodes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="bmtk.builder.network_builder.PopNetBuilder">
<em class="property">class </em><code class="sig-prename descclassname">bmtk.builder.network_builder.</code><code class="sig-name descname">PopNetBuilder</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">adaptor_cls=&lt;class 'bmtk.builder.network_adaptors.dm_network.DenseNetwork'&gt;</em>, <em class="sig-param">**network_props</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#PopNetBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.PopNetBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#bmtk.builder.network_builder.NetworkBuilder" title="bmtk.builder.network_builder.NetworkBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">bmtk.builder.network_builder.NetworkBuilder</span></code></a></p>
<p>An instance of NetworkBuilder specifically designed for building PopNet (DiPDE) complainant networks</p>
<dl class="py method">
<dt id="bmtk.builder.network_builder.PopNetBuilder.add_edges">
<code class="sig-name descname">add_edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">target</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nsyns</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">syn_weight</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dynamics_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#PopNetBuilder.add_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.PopNetBuilder.add_edges" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> – A dictionary or list of efferent dipde Populations</p></li>
<li><p><strong>target</strong> – A dictionary or list of afferent dipde Populations</p></li>
<li><p><strong>nsyns</strong> – Number of connections between the populations</p></li>
<li><p><strong>syn_weight</strong> – connection weight between the populations</p></li>
<li><p><strong>delay</strong> – connection delay between the populations</p></li>
<li><p><strong>dynamics_params</strong> – Additional parameters used for initializing connection</p></li>
<li><p><strong>properties</strong> – properties/attributes of the given edge type</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A ConnectionMap object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bmtk.builder.network_builder.PopNetBuilder.add_nodes">
<code class="sig-name descname">add_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_type</span><span class="o">=</span><span class="default_value">'population'</span></em>, <em class="sig-param"><span class="n">model_template</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dynamics_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/network_builder.html#PopNetBuilder.add_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.network_builder.PopNetBuilder.add_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a DiPDE cell population</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_type</strong> – The type of node, should be value ‘population’</p></li>
<li><p><strong>model_template</strong> – Should be either ‘dipde:Internal’ or ‘dipde:External’ (or ‘virtual’)</p></li>
<li><p><strong>dynamics_params</strong> – path to json file, or dictionary, of parameters for dipde population</p></li>
<li><p><strong>properties</strong> – Individual and group properties of given nodes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bmtk.builder.networks">
<span id="bmtk-builder-networks-module"></span><h2>bmtk.builder.networks module<a class="headerlink" href="#module-bmtk.builder.networks" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-bmtk.builder.node">
<span id="bmtk-builder-node-module"></span><h2>bmtk.builder.node module<a class="headerlink" href="#module-bmtk.builder.node" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="bmtk.builder.node.Node">
<em class="property">class </em><code class="sig-prename descclassname">bmtk.builder.node.</code><code class="sig-name descname">Node</code><span class="sig-paren">(</span><em class="sig-param">) -&gt; new empty dictionary dict(mapping) -&gt; new dictionary initialized from a mapping object's (key</em>, <em class="sig-param">value) pairs dict(iterable) -&gt; new dictionary initialized as if via: d = {} for k</em>, <em class="sig-param">v in iterable: d[k] = v dict(**kwargs) -&gt; new dictionary initialized with the name=value pairs in the keyword argument list.  For example:  dict(one=1</em>, <em class="sig-param">two=2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/node.html#Node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.node.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<dl class="py method">
<dt id="bmtk.builder.node.Node.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">k</em><span class="optional">[</span>, <em class="sig-param">d</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; D[k] if k in D, else d.  d defaults to None.<a class="reference internal" href="../_modules/bmtk/builder/node.html#Node.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.node.Node.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.node.Node.node_id">
<em class="property">property </em><code class="sig-name descname">node_id</code><a class="headerlink" href="#bmtk.builder.node.Node.node_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.node.Node.node_type_id">
<em class="property">property </em><code class="sig-name descname">node_type_id</code><a class="headerlink" href="#bmtk.builder.node.Node.node_type_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.node.Node.node_type_properties">
<em class="property">property </em><code class="sig-name descname">node_type_properties</code><a class="headerlink" href="#bmtk.builder.node.Node.node_type_properties" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.node.Node.params">
<em class="property">property </em><code class="sig-name descname">params</code><a class="headerlink" href="#bmtk.builder.node.Node.params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.node.Node.params_hash">
<em class="property">property </em><code class="sig-name descname">params_hash</code><a class="headerlink" href="#bmtk.builder.node.Node.params_hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bmtk.builder.node_pool">
<span id="bmtk-builder-node-pool-module"></span><h2>bmtk.builder.node_pool module<a class="headerlink" href="#module-bmtk.builder.node_pool" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="bmtk.builder.node_pool.NodePool">
<em class="property">class </em><code class="sig-prename descclassname">bmtk.builder.node_pool.</code><code class="sig-name descname">NodePool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">network</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/node_pool.html#NodePool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.node_pool.NodePool" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Stores a collection of nodes based off some query of the network.</p>
<p>Returns the results of a query of nodes from a network using the nodes() method. Nodes are still generated and
saved by the network, this just stores the query information and provides iterator methods for accessing different
nodes.</p>
<dl class="simple">
<dt>TODO:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>Implement a collection-set algebra including | and not operators. ie.</dt><dd><p>nodes = net.nodes(type=1) | net.nodes(type=2)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Implement operators on properties</dt><dd><p>nodes = net.nodes(val) &gt; 100
nodes = 100 in net.nodes(val)</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="bmtk.builder.node_pool.NodePool.filter_str">
<em class="property">property </em><code class="sig-name descname">filter_str</code><a class="headerlink" href="#bmtk.builder.node_pool.NodePool.filter_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.node_pool.NodePool.from_filter">
<em class="property">classmethod </em><code class="sig-name descname">from_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">network</span></em>, <em class="sig-param"><span class="n">filter_str</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/node_pool.html#NodePool.from_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.node_pool.NodePool.from_filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.node_pool.NodePool.network">
<em class="property">property </em><code class="sig-name descname">network</code><a class="headerlink" href="#bmtk.builder.node_pool.NodePool.network" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.node_pool.NodePool.network_name">
<em class="property">property </em><code class="sig-name descname">network_name</code><a class="headerlink" href="#bmtk.builder.node_pool.NodePool.network_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bmtk.builder.node_set">
<span id="bmtk-builder-node-set-module"></span><h2>bmtk.builder.node_set module<a class="headerlink" href="#module-bmtk.builder.node_set" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="bmtk.builder.node_set.NodeSet">
<em class="property">class </em><code class="sig-prename descclassname">bmtk.builder.node_set.</code><code class="sig-name descname">NodeSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">N</span></em>, <em class="sig-param"><span class="n">node_params</span></em>, <em class="sig-param"><span class="n">node_type_properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/node_set.html#NodeSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.node_set.NodeSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="bmtk.builder.node_set.NodeSet.N">
<em class="property">property </em><code class="sig-name descname">N</code><a class="headerlink" href="#bmtk.builder.node_set.NodeSet.N" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.node_set.NodeSet.build">
<code class="sig-name descname">build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nid_generator</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bmtk/builder/node_set.html#NodeSet.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bmtk.builder.node_set.NodeSet.build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.node_set.NodeSet.node_type_id">
<em class="property">property </em><code class="sig-name descname">node_type_id</code><a class="headerlink" href="#bmtk.builder.node_set.NodeSet.node_type_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.node_set.NodeSet.params_hash">
<em class="property">property </em><code class="sig-name descname">params_hash</code><a class="headerlink" href="#bmtk.builder.node_set.NodeSet.params_hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="bmtk.builder.node_set.NodeSet.params_keys">
<em class="property">property </em><code class="sig-name descname">params_keys</code><a class="headerlink" href="#bmtk.builder.node_set.NodeSet.params_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bmtk.builder">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-bmtk.builder" title="Permalink to this headline">¶</a></h2>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../builder.html">Building Networks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simulators.html">Simulation Engines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../bionet.html">BioNet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pointnet.html">PointNet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../popnet.html">PopNet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filternet.html">FilterNet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../analyzer.html">Analyzing the Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Main Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_NetworkBuilder_Intro.html">Builder: Using the Network Builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_single_cell_clamped.html">BioNet: Single cell with current injection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_single_cell_syn.html">BioNet: Single with with synaptic input</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_single_pop.html">BioNet: Multiple Nodes with single cell-type</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_multi_pop.html">BioNet: Heterogeneous network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_pointnet_modeling.html">PointNet: Point-neuron modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_population_modeling.html">PopNet: Population-based firing rate models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_filter_models.html">FilterNet: Full-field flashing movie</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ad_tutorials.html">Additional Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_cell_placement.html">Cell placement: Functions for spatially distributing units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_dynamic_synapses.html">Accessing synapse models in NEST to model dynamic synapses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_spike_trains_refractory.html">Creating spike trains with refractory periods</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Example Networks</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/AllenInstitute/bmtk.git">Github Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workshop.html">Annual Modeling Software Workshop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../registration.html">Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to_cite.html">How to Cite</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="bmtk.html">Source Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="bmtk.analyzer.html">bmtk.analyzer package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">bmtk.builder package</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.simulator.html">bmtk.simulator package</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.tests.html">bmtk.tests package</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmtk.utils.html">bmtk.utils package</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>


    <div class="footer" role="contentinfo">
    </div>
<script type="text/javascript" src="_static/external_assets/javascript/portalFooter.js"></script>

  </body>
</html>